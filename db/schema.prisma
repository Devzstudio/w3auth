generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model custom_fields {
  option_id         String              @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name              String?
  label             String?
  required          Boolean?            @default(false)
  user_custom_field user_custom_field[]
}

model user_address {
  user_address_id String  @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  user_id         String? @db.Uuid
  wallet_address  String?
  chain           String?
  users           users?  @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model user_custom_field {
  field_id      String         @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  option_id     String?        @db.Uuid
  value         String?
  user_id       String?        @db.Uuid
  custom_fields custom_fields? @relation(fields: [option_id], references: [option_id], onDelete: NoAction, onUpdate: NoAction)
  users         users?         @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model user_logins {
  user_login_id String    @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  user_id       String?   @db.Uuid
  browser       String?
  ip            String?
  country       String?
  created_at    DateTime? @db.Timestamptz(6)
  users         users?    @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model users {
  id                String              @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  name              String?
  nounce            String?
  created_at        DateTime?           @default(now()) @db.Timestamptz(6)
  email             String?
  kyc_verified      Boolean?            @default(false)
  discord_username  String?
  telegram_username String?
  twitter_username  String?
  last_login        DateTime?           @db.Timetz(6)
  is_blocked        Boolean?            @default(false)
  user_address      user_address[]
  user_custom_field user_custom_field[]
  user_logins       user_logins[]
}

model settings {
  name  String  @id
  value String?
}

model admins {
  wallet_address String?
  created_at     DateTime? @default(now()) @db.Timestamptz(6)
  last_login     DateTime? @db.Timestamptz(6)
  nounce         String?
  admin_id       String    @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
}

model allowlist {
  allowlist_id String    @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  address      String?
  label        String?
  created_at   DateTime? @default(now()) @db.Timestamptz(6)
}

model blocklist {
  address      String?
  note         String?
  created_at   DateTime? @default(now()) @db.Timestamptz(6)
  blocklist_id String    @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
}
